Responses API æ˜¯ç«å±±æ–¹èˆŸæœ€æ–°æ¨å‡ºçš„ API æ¥å£ï¼ŒåŸç”Ÿæ”¯æŒé«˜æ•ˆçš„ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œæ”¯æŒæ›´ç®€æ´çš„è¾“å…¥è¾“å‡ºæ ¼å¼ï¼Œå¹¶ä¸”å·¥å…·è°ƒç”¨æ–¹å¼ä¹Ÿæ›´åŠ ä¾¿æ·ï¼Œä¸ä»…å»¶ç»­äº† Chat API çš„æ˜“ç”¨æ€§ï¼Œè¿˜ç»“åˆäº†æ›´å¼ºçš„æ™ºèƒ½ä»£ç†èƒ½åŠ›ã€‚
éšç€å¤§æ¨¡å‹æŠ€æœ¯ä¸æ–­å‡çº§ï¼ŒResponses API ä¸ºå¼€å‘å„ç±»é¢å‘å®é™…è¡ŒåŠ¨çš„åº”ç”¨æä¾›äº†æ›´çµæ´»çš„åŸºç¡€ï¼Œå¹¶ä¸”æ”¯æŒå·¥å…·è°ƒç”¨å¤šç§æ‰©å±•èƒ½åŠ›ï¼Œéå¸¸é€‚åˆæ­å»ºæ™ºèƒ½åŠ©æ‰‹ã€è‡ªåŠ¨åŒ–å·¥å…·ç­‰åœºæ™¯ã€‚
<span id="24944445"></span>
## Responses API æ ¸å¿ƒä¼˜åŠ¿
ä¸ Chat API ç›¸æ¯”ï¼ŒResponses API åœ¨èƒ½åŠ›ä¸Šå…·å¤‡å¤šæ–¹é¢ä¼˜åŠ¿ã€‚

* ç®€æ´çš„è¾“å…¥è¾“å‡ºæ ¼å¼ï¼šè¾“å…¥ä¸ºå­—ç¬¦ä¸²æˆ–æ•°ç»„æ ¼å¼ï¼Œè¾“å‡ºä¸ºåŒ…å«è‡ªèº« ID çš„ Response å¯¹è±¡ä¸”é»˜è®¤ä¼šè¢«å­˜å‚¨ã€‚
* é«˜æ•ˆçš„ä¸Šä¸‹æ–‡ç®¡ç†ï¼šé»˜è®¤å¼€å¯å­˜å‚¨åŠŸèƒ½ï¼Œåœ¨å¤šè½®å¯¹è¯æ¨¡å¼ä¸‹èƒ½å¤Ÿè‡ªåŠ¨ç®¡ç†ä¸Šä¸‹æ–‡ï¼Œé¿å…äº†æ‰‹åŠ¨ç»´æŠ¤ä¸Šä¸‹æ–‡çš„ç¹çè¿‡ç¨‹ï¼Œæå‡æ™ºèƒ½äº¤äº’ä½“éªŒã€‚
* ä½æˆæœ¬çš„ä¸Šä¸‹æ–‡ç¼“å­˜ï¼šé€šè¿‡ç¼“å­˜å¸¸ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå‡å°‘æ¯æ¬¡è¯·æ±‚é‡å¤å¤„ç†åŠ è½½å¼€é”€ï¼Œé™ä½æˆæœ¬ã€‚
* ä¾¿æ·çš„å·¥å…·è°ƒç”¨ï¼šæ”¯æŒå¤šç§å·¥å…·è°ƒç”¨æ–¹å¼ï¼Œå¦‚å†…ç½®å·¥å…·è”ç½‘æœç´¢ã€å›¾åƒå¤„ç†ã€ç§åŸŸçŸ¥è¯†åº“æœç´¢ã€äº‘éƒ¨ç½² MCP ç­‰ï¼Œæå‡å¼€å‘å’Œé›†æˆæ•ˆç‡ã€‚
* è‰¯å¥½çš„æ‰©å±•æ€§ï¼šæœªæ¥å°†é™†ç»­æ”¯æŒæ›´å¤šå†…ç½®å·¥å…·ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´ä¸°å¯Œã€æ›´çµæ´»çš„æ™ºèƒ½åº”ç”¨å¼€å‘èƒ½åŠ›ã€‚


|èƒ½åŠ› ||Chat API |Responses API |
|---|---|---|---|
|æ–‡æœ¬ç”Ÿæˆ ||<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |
|è§†è§‰ç†è§£ ||<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |
|ç»“æ„åŒ–è¾“å‡º ||betaé˜¶æ®µ |betaé˜¶æ®µ |
|å·¥å…·è°ƒç”¨ |å‡½æ•°è°ƒç”¨ Function Calling |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |
|^^|è”ç½‘æœç´¢ Web Search |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/96a134db51ea4e8d83b5c9dccff686c3~tplv-goo7wpa0wc-image.image =25x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |
|^^|å›¾åƒå¤„ç† Image Process |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/96a134db51ea4e8d83b5c9dccff686c3~tplv-goo7wpa0wc-image.image =25x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |
|^^|ç§åŸŸçŸ¥è¯†åº“æœç´¢ Knowledge Search |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/96a134db51ea4e8d83b5c9dccff686c3~tplv-goo7wpa0wc-image.image =25x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |
|^^|äº‘éƒ¨ç½² MCP |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/96a134db51ea4e8d83b5c9dccff686c3~tplv-goo7wpa0wc-image.image =25x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span> |
|ä¸Šä¸‹æ–‡ç¼“å­˜ ||<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/96a134db51ea4e8d83b5c9dccff686c3~tplv-goo7wpa0wc-image.image =25x) </span> |<span>![å›¾ç‰‡](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/aba4522e4aab46318574c8c3e460d20b~tplv-goo7wpa0wc-image.image =20x) </span>|\
| | | |> 250615ä¹‹åçš„æ¨¡å‹ç‰ˆæœ¬æ”¯æŒ |

<span id="fd5fe98e"></span>
## åŸºç¡€å·®å¼‚
Chat API (`/chat/completions`) ä¸ Responses API (`/responses`) è¾“å…¥å’Œè¾“å‡ºæ ¼å¼ç•¥æœ‰ä¸åŒã€‚

* è¾“å…¥ï¼šChat API éœ€è¦ä¼ å…¥ä¸€ä¸ªæ¶ˆæ¯ï¼ˆmessagesï¼‰æ•°ç»„ï¼Œè€Œ Responses API åˆ™æ¥å—å­—ç¬¦ä¸²æˆ–æ•°ç»„æ ¼å¼çš„è¾“å…¥ã€‚åŒæ—¶ï¼Œåœ¨ Responses API ä¸­ï¼Œæ”¯æŒä½¿ç”¨ **instructions** å­—æ®µåœ¨ç‰¹å®šè½®æ¬¡ä¸­è¡¥å……ç³»ç»Ÿæç¤ºè¯ï¼Œä½¿ç”¨æ–¹å¼è¯·å‚è§[è¡¥å……ç³»ç»Ÿæç¤ºè¯](/docs/82379/1958520#6855e23d)ã€‚
* è¾“å‡ºï¼šChat API è¿”å› messageï¼Œè€Œ Responses API è¿”å›ä¸€ä¸ªåŒ…å«è‡ªèº« ID çš„ response å¯¹è±¡ã€‚

é€šè¿‡ä»¥ä¸‹ç¤ºä¾‹å¿«é€Ÿä½“éªŒä¸¤ä¸ª API ä½¿ç”¨ä¸Šçš„å·®å¼‚ã€‚

<span aceTableMode="list" aceTableWidth="1,1"></span>
|Chat API |Responses API |
|---|---|
|è¾“å…¥ç¤ºä¾‹|è¾“å…¥ç¤ºä¾‹|\
|```Python|```Python|\
|import os|import os|\
|from volcenginesdkarkruntime import Ark|from volcenginesdkarkruntime import Ark|\
|||\
|client = Ark(|client = Ark(|\
|    base_url="https://ark.cn-beijing.volces.com/api/v3",|    base_url='https://ark.cn-beijing.volces.com/api/v3',|\
|    api_key=os.getenv('ARK_API_KEY'),|    api_key=os.getenv('ARK_API_KEY'),|\
|)|)|\
|||\
|completion = client.chat.completions.create(|response = client.responses.create(|\
|    model = "doubao-seed-1-6-251015",|    model="doubao-seed-1-6-251015",|\
|    messages=[|    input="Hello.",|\
|        {"role": "user", "content": "Hello."},|)|\
|    ],||\
|)|print(response)|\
|print(completion)|```|\
|```| |\
| | |
|è¾“å‡ºç¤ºä¾‹|è¾“å‡ºç¤ºä¾‹|\
|```JSON|```JSON|\
|{|{|\
|    "choices": [|    "created_at": 1765193461,|\
|        {|    "id": "resp_0217651934613099e1bacc68b98f823c2af95ea68bff0aec36f83",|\
|            "finish_reason": "stop",|    "max_output_tokens": 32768,|\
|            "index": 0,|    "model": "doubao-seed-1-6-251015",|\
|            "logprobs": null,|    "object": "response",|\
|            "message": {|    "output": [|\
|                "content": "Hello! How can I assist you today? Whether you have a question you'd like answered, want to chat about something that's on your mind, or need help with a specific task, feel free to shareâ€”I'm here to help. ğŸ˜Š",|        {|\
|                "reasoning_content": "\nGot it, let's see. The user just said \"Hello.\" I need to respond in a friendly way. Since the system prompt mentions I'm an AI assistant who can answer questions, chat, and provide information, I should keep it open-ended to encourage them to share what they need help with. Maybe something like \"Hello! How can I assist you today? Whether you have a question, want to chat about something, or need help with a task, feel free to let me know.\" That sounds natural and covers the points from the system prompt.",|            "id": "rs_02176519346192100000000000000000000ffffac15322033925d",|\
|                "role": "assistant"|            "type": "reasoning",|\
|            }|            "summary": [|\
|        }|                {|\
|    ],|                    "type": "summary_text",|\
|    "created": 1765193367,|                    "text": "\nGot it, let's see. The user said \"hello.\" First, I need to respond in a friendly way. Since the system prompt mentions being a helpful assistant, I should greet back and maybe invite them to ask whatever they need help with. Let me make it natural. Like, \"Hello! How can I assist you today?\" That's simple and open-ended. Yeah, that works."|\
|    "id": "0217651933631536335e3dfd75940b9979797202ce7ea2a894823",|                }|\
|    "model": "doubao-seed-1-6-251015",|            ],|\
|    "service_tier": "default",|            "status": "completed"|\
|    "object": "chat.completion",|        },|\
|    "usage": {|        {|\
|        "completion_tokens": 164,|            "type": "message",|\
|        "prompt_tokens": 35,|            "role": "assistant",|\
|        "total_tokens": 199,|            "content": [|\
|        "prompt_tokens_details": {|                {|\
|            "cached_tokens": 0|                    "type": "output_text",|\
|        },|                    "text": "Hello! How can I assist you today? Whether you have a question, need help with a task, or just want to chat, feel free to let me know. ğŸ˜Š"|\
|        "completion_tokens_details": {|                }|\
|            "reasoning_tokens": 114|            ],|\
|        }|            "status": "completed",|\
|    }|            "id": "msg_02176519346378200000000000000000000ffffac153220cfab51"|\
|```|        }|\
| |    ],|\
| |    "service_tier": "default",|\
| |    "status": "completed",|\
| |    "usage": {|\
| |        "input_tokens": 35,|\
| |        "output_tokens": 118,|\
| |        "total_tokens": 153,|\
| |        "input_tokens_details": {|\
| |            "cached_tokens": 0|\
| |        },|\
| |        "output_tokens_details": {|\
| |            "reasoning_tokens": 82|\
| |        }|\
| |    },|\
| |    "caching": {|\
| |        "type": "disabled"|\
| |    },|\
| |    "store": true,|\
| |    "expire_at": 1765452661|\
| |}|\
| |```|\
| | |

<span id="10e45e52"></span>
## è¿›é˜¶èƒ½åŠ›é€‚é…
<span id="44b336d8"></span>
### æ›´æ–°å¤šè½®å¯¹è¯
åœ¨å¤šè½®å¯¹è¯åœºæ™¯ä¸­ï¼Œä½¿ç”¨ Responses API èƒ½å¤Ÿæ›´é«˜æ•ˆçš„ç®¡ç†ä¸Šä¸‹æ–‡ï¼Œé¿å…äº†æ‰‹åŠ¨ç»´æŠ¤ä¸Šä¸‹æ–‡çš„ç¹çè¿‡ç¨‹ã€‚

* Chat API æ˜¯æ— çŠ¶æ€çš„ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶éœ€è¦å°†å†å²ä¿¡æ¯æ”¾åœ¨ **messages** ä¸­ï¼Œå¹¶é€šè¿‡ **role** å­—æ®µè®¾ç½®ï¼Œä»¥ä¾¿è¿›è¡Œä¸»é¢˜ç›¸å…³çš„å»¶ç»­æ€§å¯¹è¯ã€‚å…·ä½“ä½¿ç”¨å‚è§[å¤šè½®å¯¹è¯](/docs/82379/1399009#f6222fec)ã€‚
* Responses API é»˜è®¤å¼€å¯å­˜å‚¨åŠŸèƒ½ï¼Œæ–¹ä¾¿è¿›è¡Œä¸Šä¸‹æ–‡ç®¡ç†ï¼Œé€šè¿‡ **previous_response_id** å¼•å…¥å¯¹åº”è¯·æ±‚çš„è¾“å…¥å’Œå›å¤ï¼Œå®ç°æ™ºèƒ½äº¤äº’ä½“éªŒã€‚å…·ä½“ä½¿ç”¨å‚è§[ä¸Šä¸‹æ–‡ç®¡ç†](/docs/82379/1958520#6d3df616)ã€‚


<span aceTableMode="list" aceTableWidth="1,1"></span>
|Chat API |Responses API |
|---|---|
|```Python|```Python|\
|import os|import os|\
|from volcenginesdkarkruntime import Ark|from volcenginesdkarkruntime import Ark|\
|||\
|client = Ark(|client = Ark(|\
|    base_url="https://ark.cn-beijing.volces.com/api/v3",|    base_url='https://ark.cn-beijing.volces.com/api/v3',|\
|    api_key=os.getenv('ARK_API_KEY'),|    api_key=os.getenv('ARK_API_KEY'),|\
|)|)|\
|||\
|completion = client.chat.completions.create(|# Create the first-round conversation request|\
|    # Replace with Model ID|response = client.responses.create(|\
|    model = "doubao-seed-1-6-251015",|    model="doubao-seed-1-6-251015",|\
|    messages=[|    input=[{"role": "user", "content": "Hiï¼Œå¸®æˆ‘è®²ä¸ªç¬‘è¯ã€‚"}],|\
|        {"role": "user","content": "Hiï¼Œå¸®æˆ‘è®²ä¸ªç¬‘è¯ã€‚"},|)|\
|        {"role": "assistant","content":"æˆ‘æŠŠæ´—é¢å¥¶å½“ç‰™è†æŒ¤ï¼Œåˆ·å®Œç‰™æ‰å‘ç°å‘³é“ä¸å¯¹ã€‚"},|print(response)|\
|        {"role": "user","content": "è¿™ä¸ªç¬‘è¯çš„ç¬‘ç‚¹åœ¨å“ªï¼Ÿ"}||\
|    ]|# Create the second-round conversation request|\
|)|second_response = client.responses.create(|\
|print(completion.choices[0].message.content)|    model="doubao-seed-1-6-251015",|\
|```|    previous_response_id=response.id,|\
| |    input=[{"role": "user", "content": "è¿™ä¸ªç¬‘è¯çš„ç¬‘ç‚¹åœ¨å“ªï¼Ÿ"}],|\
| |)|\
| |print(second_response)|\
| |```|\
| | |

<span id="7c3903e2"></span>
### æ›´æ–°ç»“æ„åŒ–è¾“å‡ºå®šä¹‰
å®šä¹‰ç»“æ„åŒ–è¾“å‡ºçš„æ–¹å¼ï¼š

* Chat APIï¼š**response_format**ï¼Œå…·ä½“ä½¿ç”¨å‚è§[ç»“æ„åŒ–è¾“å‡º(beta)](/docs/82379/1568221)ã€‚
* Responses APIï¼š**text.format**ï¼Œå…·ä½“ä½¿ç”¨å‚è§[ç»“æ„åŒ–è¾“å‡º(beta)](/docs/82379/1958523)ã€‚


<span aceTableMode="list" aceTableWidth="1,1"></span>
|Chat API |Responses API |
|---|---|
|```Python|```Python|\
|import os|import os|\
|from volcenginesdkarkruntime import Ark|from volcenginesdkarkruntime import Ark|\
|||\
|client = Ark(|client = Ark(|\
|    base_url="https://ark.cn-beijing.volces.com/api/v3",|    base_url='https://ark.cn-beijing.volces.com/api/v3',|\
|    api_key=os.getenv('ARK_API_KEY'),|    api_key=os.getenv('ARK_API_KEY'),|\
|)|)|\
|||\
|completion = client.chat.completions.create(|response = client.responses.create(|\
|    model = "doubao-seed-1-6-251015",|    model="doubao-seed-1-6-251015",|\
|    messages=[|    input=[|\
|        {"role": "user", "content": "å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿjsonè¾“å‡º"},|        {"role": "user", "content": "å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿjsonè¾“å‡º"},|\
|    ],|    ],|\
|    response_format={"type":"json_object"},|    text={"format":{"type": "json_object"}},|\
|    thinking={"type": "disabled"},# ä¸ä½¿ç”¨æ·±åº¦æ€è€ƒèƒ½åŠ›|    thinking={"type": "disabled"},# ä¸ä½¿ç”¨æ·±åº¦æ€è€ƒèƒ½åŠ›|\
|)|)|\
|print(completion.choices[0].message.content)|print(response)|\
|```|```|\
| | |

<span id="a9c4810b"></span>
### æ›´æ–°æœ€å¤§è¾“å‡ºé•¿åº¦å‚æ•°

* Chat APIï¼šé€šè¿‡å‚æ•° **max_completion_tokens** æ§åˆ¶æ¨¡å‹æœ€å¤§è¾“å‡ºé•¿åº¦ï¼Œå…·ä½“æ•™ç¨‹å‚è§[è®¾ç½®æœ€å¤§è¾“å‡ºé•¿åº¦](/docs/82379/1449737#31ecc4d7)ã€‚
* Responses APIï¼šé€šè¿‡å‚æ•° **max_output_tokens** æ§åˆ¶æ¨¡å‹æœ€å¤§è¾“å‡ºé•¿åº¦ï¼Œå…·ä½“æ•™ç¨‹å‚è§[è®¾ç½®æœ€å¤§è¾“å‡ºé•¿åº¦](/docs/82379/1956279#1460ba95)ã€‚


<span aceTableMode="list" aceTableWidth="1,1"></span>
|Chat API |Responses API |
|---|---|
|```Python|```Python|\
|import os|import os|\
|from volcenginesdkarkruntime import Ark|from volcenginesdkarkruntime import Ark|\
|||\
|client = Ark(|client = Ark(|\
|    base_url="https://ark.cn-beijing.volces.com/api/v3",|    base_url='https://ark.cn-beijing.volces.com/api/v3',|\
|    api_key=os.getenv('ARK_API_KEY'),|    api_key=os.getenv('ARK_API_KEY'),|\
|)|)|\
|||\
|completion = client.chat.completions.create(|response = client.responses.create(|\
|    model = "doubao-seed-1-6-251015",|    model="doubao-seed-1-6-251015",|\
|    messages=[|    input=[|\
|        {"role": "system", "content": "ä½ æ˜¯ AI äººå·¥æ™ºèƒ½åŠ©æ‰‹"},|        {"role": "system", "content": "ä½ æ˜¯ AI äººå·¥æ™ºèƒ½åŠ©æ‰‹"},|\
|        {"role": "user", "content": "å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿ"},|        {"role": "user", "content": "å¸¸è§çš„åå­—èŠ±ç§‘æ¤ç‰©æœ‰å“ªäº›ï¼Ÿ"},|\
|    ],|    ],|\
|    max_completion_tokens = 1024,|    max_output_tokens = 1024,|\
|)|)|\
|print(completion.choices[0].message.content)|print(response)|\
|```|```|\
| | |

<span id="f61fe601"></span>
### ä½¿ç”¨ä¸Šä¸‹æ–‡ç¼“å­˜èƒ½åŠ›
Context API æ”¯æŒä¸Šä¸‹æ–‡ç¼“å­˜èƒ½åŠ›ï¼Œè€Œ Responses API åœ¨ç¼“å­˜æ“æ§æ–¹é¢æ›´åŠ çµæ´»ï¼Œæ”¯æŒè¿›è¡Œ ID ç²’åº¦çš„ä½¿ç”¨åŠå˜æ›´ã€‚å…³äºä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼Œå‚è§[ä¸Šä¸‹æ–‡ç¼“å­˜æ¦‚è¿°](/docs/82379/1398933)ã€‚

<span aceTableMode="list" aceTableWidth="1,1"></span>
|Context API |Responses API |
|---|---|
|```Python|```Python|\
|import datetime|import os|\
|import os|from volcenginesdkarkruntime import Ark|\
|from volcenginesdkarkruntime import Ark||\
||client = Ark(|\
|client = Ark(|    base_url='https://ark.cn-beijing.volces.com/api/v3',|\
|    base_url='https://ark.cn-beijing.volces.com/api/v3',|    api_key=os.getenv('ARK_API_KEY'),|\
|    api_key=os.environ.get("ARK_API_KEY"),|)|\
|)||\
||response = client.responses.create(|\
|response = client.context.create(|    model="doubao-seed-1-6-251015",|\
|    model=<YOUR_ENDPOINT_ID>,|    input=[|\
|    mode="session",|        {"role": "system", "content": "ä½ æ˜¯æé›·"},|\
|    messages=[|    ],|\
|        {"role": "system", "content": "ä½ æ˜¯æé›·"},|    caching={"type": "enabled"},|\
|    ],|    thinking={"type": "disabled"},|\
|    ttl=datetime.timedelta(minutes=60),|)|\
|)|print(response.output[0].content[0].text)|\
|print(response)|print("----- chat round 1 -----")|\
||first_response = client.responses.create(|\
|print("----- chat round 1 -----")|    model="doubao-seed-1-6-251015",|\
|first_response = client.context.completions.create(|    previous_response_id=response.id,|\
|    context_id=response.id,|    input=[{"role": "user", "content": "æˆ‘æ˜¯æ–¹æ–¹"}],|\
|    model=<YOUR_ENDPOINT_ID>,|    caching={"type": "enabled"},|\
|    messages=[|    thinking={"type": "disabled"},|\
|        {"role": "user", "content": "æˆ‘æ˜¯æ–¹æ–¹"},|)|\
|    ]|print(first_response.output[0].content[0].text)|\
|)|print("----- chat round 2 -----")|\
|print(first_response.choices[0].message.content)|second_response = client.responses.create(|\
||    model="doubao-seed-1-6-251015",|\
|print("----- chat round 2  -----")|    previous_response_id=first_response.id,|\
|second_response = client.context.completions.create(|    input=[{"role": "user", "content": "ä½ æ˜¯è°ï¼Œæˆ‘æ˜¯è°ï¼Ÿ"}],|\
|    context_id=response.id,|    caching={"type": "enabled"},|\
|    model=<YOUR_ENDPOINT_ID>,|    thinking={"type": "disabled"},|\
|    messages=[|)|\
|        {"role": "user", "content": "ä½ æ˜¯è°ï¼Œæˆ‘æ˜¯è°ï¼Ÿ"},|print(second_response.output[0].content[0].text)|\
|    ]|```|\
|)| |\
|print(second_response.choices[0].message.content)| |\
|```| |\
| | |

<span id="aa301c33"></span>
### ä½¿ç”¨å·¥å…·è°ƒç”¨
<span id="b76ccb7e"></span>
#### æ›´æ–°å‡½æ•°å®šä¹‰
Responses API å’Œ Chat API åœ¨å®šä¹‰ function å‡½æ•°æ–¹é¢æœ‰ç»†å¾®åŒºåˆ«ï¼Œå…·ä½“ä½¿ç”¨æ•™ç¨‹å‚è§[å‡½æ•°è°ƒç”¨ Function Calling](/docs/82379/1262342)ã€‚

<span aceTableMode="list" aceTableWidth="1,1"></span>
|Chat API |Responses API |
|---|---|
|```JSON|```JSON|\
|[|[|\
|    {|    {|\
|        "type": "function",|        "type": "function",|\
|        "function": {|        "name": "get_weather",|\
|            "name": "get_weather",|        "description": "æ ¹æ®åŸå¸‚åç§°æŸ¥è¯¢è¯¥åŸå¸‚å½“æ—¥å¤©æ°”ï¼ˆå«æ¸©åº¦ã€å¤©æ°”çŠ¶å†µï¼‰",|\
|            "description": "æ ¹æ®åŸå¸‚åç§°æŸ¥è¯¢è¯¥åŸå¸‚å½“æ—¥å¤©æ°”ï¼ˆå«æ¸©åº¦ã€å¤©æ°”çŠ¶å†µï¼‰",|        "parameters": {|\
|            "parameters": {|            "type": "object",|\
|                "type": "object",|            "properties": {|\
|                "properties": {|                "location": {|\
|                    "location": {|                    "type": "string",|\
|                        "type": "string",|                    "description": "åŸå¸‚åç§°ï¼Œå¦‚åŒ—äº¬ã€ä¸Šæµ·ï¼ˆä»…æ”¯æŒå›½å†…åœ°çº§å¸‚ï¼‰"|\
|                        "description": "åŸå¸‚åç§°ï¼Œå¦‚åŒ—äº¬ã€ä¸Šæµ·ï¼ˆä»…æ”¯æŒå›½å†…åœ°çº§å¸‚ï¼‰"|                }|\
|                    }|            },|\
|                },|            "required": [|\
|                "required": [|                "location"|\
|                    "location"|            ]|\
|                ]|        }|\
|            }|    }|\
|        }|]|\
|    }|```|\
|]| |\
|```| |\
| | |

<span id="dc188312"></span>
#### ä½¿ç”¨å†…ç½®å·¥å…·
Chat API å½“å‰ä¸æ”¯æŒä½¿ç”¨æ–¹èˆŸå¤§æ¨¡å‹å†…ç½®å·¥å…·ï¼ˆè”ç½‘æœç´¢ã€å›¾åƒå¤„ç†ã€ç§åŸŸçŸ¥è¯†åº“æœç´¢ï¼‰ã€äº‘éƒ¨ç½² MCPç­‰èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡ Responses API ä½¿ç”¨ï¼Œå…·ä½“æ•™ç¨‹å‚è§[è”ç½‘æœç´¢ Web Search ](/docs/82379/1756990)ã€[å›¾åƒå¤„ç† Image Process](/docs/82379/1798161)ã€[ç§åŸŸçŸ¥è¯†åº“æœç´¢ Knowledge Search](/docs/82379/1873396)ã€[äº‘éƒ¨ç½² MCP / Remote MCP](/docs/82379/1827534)ã€‚

```mixin-react
return (<Tabs>
<Tabs.TabPane title="è”ç½‘æœç´¢" key="Jk00NXLfUc"><RenderMd content={`é€šè¿‡ Web Search å·¥å…·å¯ä»¥è·å–å®æ—¶å…¬å¼€ç½‘ç»œä¿¡æ¯ï¼ˆå¦‚æ–°é—»ã€å•†å“ã€å¤©æ°”ç­‰ï¼‰ï¼Œè§£å†³æ•°æ®æ—¶æ•ˆæ€§ã€çŸ¥è¯†ç›²åŒºã€ä¿¡æ¯åŒæ­¥ç­‰æ ¸å¿ƒé—®é¢˜ï¼Œå¹¶ä¸”æ— éœ€è‡ªè¡Œå¼€å‘æœç´¢å¼•æ“æˆ–ç»´æŠ¤æ•°æ®èµ„æºã€‚
\`\`\`Python
import os
from volcenginesdkarkruntime import Ark

client = Ark(
    base_url='https://ark.cn-beijing.volces.com/api/v3',
    api_key=os.getenv('ARK_API_KEY'),
)

tools = [{
    "type": "web_search",
    "max_keyword": 2,  
}]

response = client.responses.create(
    model="doubao-seed-1-6-251015",
    input=[{"role": "user", "content": "åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"}],
    tools=tools,
)

print(response)
\`\`\`

`}></RenderMd></Tabs.TabPane>
<Tabs.TabPane title="å›¾åƒå¤„ç†" key="DBtianQ2Hf"><RenderMd content={`Image Process å›¾åƒå¤„ç†å·¥å…·æ”¯æŒé€šè¿‡ Responses API è°ƒç”¨å¯¹è¾“å…¥å›¾ç‰‡æ‰§è¡Œç”»ç‚¹ã€ç”»çº¿ã€æ—‹è½¬ã€ç¼©æ”¾ã€æ¡†é€‰/è£å‰ªå…³é”®åŒºåŸŸç­‰åŸºç¡€æ“ä½œï¼Œé€‚ç”¨äºéœ€æ¨¡å‹é€šè¿‡è§†è§‰å¤„ç†æå‡å›¾ç‰‡ç†è§£çš„åœºæ™¯ï¼ˆå¦‚å›¾æ–‡å†…å®¹åˆ†æã€ç‰©ä½“å®šä½æ ‡æ³¨ã€å¤šè½®è§†è§‰æ¨ç†ç­‰ï¼‰ã€‚å·¥å…·é€šè¿‡æ¨¡å‹è‡ªåŠ¨åˆ¤æ–­å›¾åƒå¤„ç†é€»è¾‘ï¼Œæ”¯æŒä¸è‡ªå®šä¹‰ Function æ··åˆä½¿ç”¨ï¼Œä¸”å¯å¤„ç†å¤šè½®è§†è§‰è¾“å…¥ï¼ˆä¸Šä¸€è½®è¾“å‡ºå›¾ç‰‡ä½œä¸ºä¸‹ä¸€è½®è¾“å…¥ï¼‰ã€‚
\`\`\`Python
from openai import OpenAI
import os
# Initialize the client and configure the API address and tool call headers.
client = OpenAI(
    base_url='https://ark.cn-beijing.volces.com/api/v3',
    api_key=os.getenv('ARK_API_KEY'),
    default_headers={"ark-beta-image-process": "true"}
)

# Initiate an image processing request.
response = client.responses.create(
    model="doubao-seed-1-6-vision-250815",
    tools=[
        {
            "type": "image_process",
            "point": {
                "type": "disabled"
            },
            "grounding": {
                "type": "disabled"
            },
            "zoom": {
                "type": "enabled" # Enable the zoom tool.
            },
            "rotate": {
                "type": "disabled"
            }
        }
    ],
    input=[
        {
            "type": "message",
            "role": "user",
            "content": [
                {
                    "type": "input_image",
                    "image_url": "https://ark-project.tos-cn-beijing.volces.com/doc_image/image_process_1.jpg"  # Enter the image URL.
                },
                {
                    "type": "input_text",
                    "text": "å‰æ–¹è·¯ç‰Œå†™äº†ä»€ä¹ˆï¼Ÿ"
                }
            ]
        }
    ],
    stream=True  # Enable streaming response to obtain processing results in real time.
)

# Print the streaming response results.
for chunk in response:
    if hasattr(chunk, 'delta'):
        print(chunk.delta, end="", flush=True)

\`\`\`

`}></RenderMd></Tabs.TabPane>
<Tabs.TabPane title="ç§åŸŸçŸ¥è¯†åº“æœç´¢" key="h2ENxQyf0s"><RenderMd content={`ç§åŸŸçŸ¥è¯†åº“æœç´¢å·¥å…· Knowledge Search æ”¯æŒé€šè¿‡ Responses API è°ƒç”¨ç›´æ¥è·å–ä¼ä¸šç§åŸŸçŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯ï¼ˆå¦‚å†…éƒ¨æ–‡æ¡£ã€äº§å“æ‰‹å†Œã€è¡Œä¸šèµ„æ–™ç­‰ï¼‰ï¼Œé€‚ç”¨äºéœ€åŸºäºä¼ä¸šä¸“å±æ•°æ®è§£ç­”é—®é¢˜çš„åœºæ™¯ï¼ˆå¦‚å†…éƒ¨åŸ¹è®­é—®ç­”ã€äº§å“åŠŸèƒ½å’¨è¯¢ã€è¡Œä¸šæ–¹æ¡ˆæŸ¥è¯¢ç­‰ï¼‰ã€‚å·¥å…·é€šè¿‡æ¨¡å‹è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨ç§åŸŸçŸ¥è¯†åº“ï¼Œæ”¯æŒä¸è‡ªå®šä¹‰ Functionã€MCP ç­‰å·¥å…·æ··åˆä½¿ç”¨ï¼Œç›®å‰ä»…æ”¯æŒæ——èˆ°ç‰ˆçŸ¥è¯†åº“ã€‚
\`\`\`Python
import os
from openai import OpenAI 

client = OpenAI(
    base_url='https://ark.cn-beijing.volces.com/api/v3',
    api_key=os.getenv('ARK_API_KEY'),
    default_headers={"ark-beta-knowledge-search": "true"}  # Enable private domain knowledge base search.
)

# Initiate a knowledge base search request.
response = client.responses.create(
    model="doubao-seed-1-6-251015",
    input=[
        {
            "role": "user",
            "content": [
                {
                    "type": "input_text",
                    "text": "åº”ç”¨å®éªŒå®¤é‡Œæœ‰ç±»ä¼¼å®æ—¶è§†é¢‘ç†è§£çš„agent demoä¹ˆï¼Ÿ"
                }
            ]
        }
    ],
    tools=[
        {
            "type": "knowledge_search",
            "knowledge_resource_id": "<knowledge_resource_id>",  # Replace with the actual knowledge base ID.
            "limit": 10,  # Return a maximum of 10 search results.
        }
    ],
    stream=True,  # Enable streaming response to obtain processing results in real time.
    extra_body={"thinking": {"type": "auto"}}  # The model automatically determines whether a search is necessary.
)

# Print the streaming response results.
for chunk in response:
    if hasattr(chunk, 'delta'):
        print(chunk.delta, end="", flush=True)
\`\`\`

`}></RenderMd></Tabs.TabPane>
<Tabs.TabPane title="MCP" key="LHGIDFkIsY"><RenderMd content={`å¯¹æ¥â€œ[MCP MarketPlace](https://www.volcengine.com/mcp-marketplace)â€ï¼Œæ”¯æŒè°ƒç”¨å¸‚åœºå†…å„ç±»å‚ç›´é¢†åŸŸMCPå·¥å…·ï¼ˆå¦‚å·¨é‡åƒå·ã€çŸ¥è¯†åº“ï¼‰ï¼Œæ— éœ€è‡ªè¡Œå¼€å‘å·¥å…·é€»è¾‘ã€‚é€‚ç”¨äºå¤æ‚ä»»åŠ¡ï¼ˆå¦‚å¤šæ­¥æ•°æ®æŸ¥è¯¢ + åˆ†æï¼‰åœºæ™¯ï¼Œæ”¯æŒä¸è‡ªå®šä¹‰ Functionã€Web Search å·¥å…·æ··åˆä½¿ç”¨ã€‚
\`\`\`Python
from volcenginesdkarkruntime import Ark
import os
# Initialize the client and enable MCP
client = Ark(
    base_url='https://ark.cn-beijing.volces.com/api/v3',
    api_key=os.getenv('ARK_API_KEY')
)
# Send a basic MCP call request
response = client.responses.create(
    model="doubao-seed-1-6-251015",
    tools=[
        {
            "type": "mcp",
            "server_label": "deepwiki",
            "server_url": "https://mcp.deepwiki.com/mcp",
            "require_approval": "never"
        }
    ],
    input=[
        {
            "role": "user",
            "content": [
                {
                    "type": "input_text",
                    "text": "çœ‹ä¸€ä¸‹volcengine/ai-app-labè¿™ä¸ªrepoçš„æ–‡æ¡£"
                }
            ]
        }
    ],
    extra_headers={"ark-beta-mcp": "true"},
    stream=True  # Stream results
)

# Print the streaming response results.
for chunk in response:
    if hasattr(chunk, 'delta'):
        print(chunk.delta, end="", flush=True)

\`\`\`

`}></RenderMd></Tabs.TabPane></Tabs>);
```

<span id="8c903ca1"></span>
## æ¸è¿›å¼è¿ç§»
å½“å‰æ–°æ¨¡å‹ä¼šåœ¨ Chat API å’Œ Responses API ä¸ŠåŒæ­¥é€‚é…ï¼Œæ— éœ€æ‹…å¿ƒåç»­çš„ç»´æŠ¤é—®é¢˜ã€‚å»ºè®®æ ¹æ®éœ€æ±‚é€æ­¥é‡‡ç”¨ Responses APIï¼Œå¯ä»¥å…ˆåœ¨å·¥å…·è°ƒç”¨åŠç¼“å­˜ç­‰éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ä¸­ä½¿ç”¨ï¼Œå¾…ä½¿ç”¨ç¨³å®šåå†å…¨é¢æ›¿æ¢ Chat APIï¼Œä»¥å®ç°å¹³æ»‘è¿‡æ¸¡ã€‚


